from faulthandler import disable
from logging import PlaceHolder
from select import select
from tkinter.tix import Select
from tkinter.ttk import Style
import discord
import time
import youtube_dl
import asyncio
import datetime
import random
import os
from msilib.schema import Component, File
from threading import activeCount
from discord import DMChannel 
from discord.ext import commands
from discord.ui import Button, View
from discord import FFmpegAudio
from discord import option

intents = discord.Intents.default()
intents.message_content = True


bot = commands.Bot(command_prefix="Â§", intents=intents)

@bot.event
async def on_ready():
    await bot.change_presence(status=discord.Status.do_not_disturb, activity=discord.Game('Utiliser /aide'))
    print ('âœ…')




class View(discord.ui.View):
    @discord.ui.select(
        placeholder= "Choisi une matiere",
        min_values= 1,
        max_values= 1,
        options=  [
            discord.SelectOption(
                emoji="ðŸ‡«ðŸ‡·",
                label="FranÃ§ais",
                description="Demande un cours de franÃ§ais"
            ),
            discord.SelectOption(
                emoji="ðŸ§®",
                label="Math",
                description="Demande un cours de math"
            ),
            discord.SelectOption(
                emoji="",
                label="Histoire-GÃ©o",
                description="Demande un cours de Histoire-GÃ©o"
            ),
            discord.SelectOption(
                emoji="<:nap:1015292858506420324>",
                label="Anglais",
                description="Demande un cours de Anglais",

            )
        ]
    )
    async def select_callback(self, select, interaction, user_id=None, *, args=None):
        if select.value[0] == "FranÃ§ais":
            select.disabled = True
            await interaction.response.edit_message(view=self)
            await message_aide.delete()


@bot.slash_command(description="Faire une demande d'aide")
async def aide(ctx):
    global message_aide
    message_aide = await ctx.send("Choisi une matiere:", view=View())


@bot.command()
async def dm(ctx):
    target = bot.get_user(727600890793558176)
    print(target)
    #await target.author.send("yey")
    print(ctx.author)



bot.run("token")
